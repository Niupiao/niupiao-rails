{"filter":false,"title":"tickets_test.rb","tooltip":"/test/integration/tickets_test.rb","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":28,"column":40},"end":{"row":28,"column":50},"action":"insert","lines":[" by status"]},{"start":{"row":33,"column":4},"end":{"row":35,"column":0},"action":"remove","lines":["assert_equal 1, Event.count","    assert_equal 3, Event.find(1).tickets.count",""]},{"start":{"row":33,"column":4},"end":{"row":34,"column":4},"action":"insert","lines":["t4 = Ticket.create!(event: @event, ticket_status: @vip)","    "]},{"start":{"row":37,"column":12},"end":{"row":37,"column":42},"action":"remove","lines":["_ids: [t1.id, t2.id, t3.id, 4]"]},{"start":{"row":37,"column":12},"end":{"row":41,"column":7},"action":"insert","lines":["s_purchased: {","        general: 2,","        vip: 2,","        fish: 3 #, general: 'f'   # TODO POSTing duplicate keys fails","      }"]},{"start":{"row":43,"column":0},"end":{"row":43,"column":4},"action":"insert","lines":["    "]},{"start":{"row":45,"column":4},"end":{"row":49,"column":58},"action":"remove","lines":["t1 = t1.reload","    t2 = t2.reload","    t3 = t3.reload","    assert @user1.owns?(t1), \"User does not own ticket...\"","    assert @user1.owns?(t2), \"User does not own ticket...\""]},{"start":{"row":45,"column":4},"end":{"row":55,"column":18},"action":"insert","lines":["assert_equal 2, @user1.tickets.count","    assert_equal true, json['general']['success']","    assert_equal @event.id, json['general']['event_id'].to_i","","    assert_equal false, json['fish']['success']","    assert_equal @event.id, json['fish']['event_id'].to_i","    assert_equal \"No tickets with status: fish\", json['fish']['message']","","    t1 = t1.reload","    t2 = t2.reload","    t3 = t3.reload"]},{"start":{"row":56,"column":25},"end":{"row":56,"column":26},"action":"remove","lines":["3"]},{"start":{"row":56,"column":25},"end":{"row":56,"column":26},"action":"insert","lines":["1"]},{"start":{"row":57,"column":10},"end":{"row":57,"column":16},"action":"remove","lines":["_equal"]},{"start":{"row":57,"column":17},"end":{"row":57,"column":33},"action":"remove","lines":[", t1.reload.user"]},{"start":{"row":57,"column":17},"end":{"row":57,"column":27},"action":"insert","lines":[".owns?(t2)"]},{"start":{"row":58,"column":26},"end":{"row":58,"column":34},"action":"remove","lines":["2.reload"]},{"start":{"row":58,"column":26},"end":{"row":58,"column":27},"action":"insert","lines":["1"]},{"start":{"row":59,"column":28},"end":{"row":59,"column":35},"action":"remove","lines":["reload."]}]}]]},"ace":{"folds":[],"scrolltop":240,"scrollleft":0,"selection":{"start":{"row":44,"column":13},"end":{"row":44,"column":13},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":11,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1428123185000,"hash":"5809c958932d8927406c32dbfaf88929ab16bf31"}